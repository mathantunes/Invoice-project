syntax = "proto3";
package services;
/*
    Definition of services related to invoice creation
*/

service InvoiceUploader {
    //Service to create XML Invoice
    rpc CreateXMLInvoice(Invoice) returns (Response) {}

    //Service to upload invoice preview as a stream
    rpc UpdateInvoicePreview(stream InvoicePreview) returns (Response) {}

    //Service to upload invoice attachment as a stream
    rpc UpdateAttachment(stream Attachment) returns (Response) {}
}

service InvoiceGetter {
    rpc GetInvoicePreview(int) returns (stream InvoicePreview) {}

    rpc ListAttachments(int) returns () {}

    rpc GetAttachment(int) returns () {}
}

//Identifies the AP or AR Invoice Types
enum InvoiceType {
    AP = 0;
    AR = 1;
}

message Invoice {
    //Data XML file data from Finvoice 1.3 Standard
    bytes Data = 1;
    //Issuer_id Specification UUID type (This identifier is a 128-bit)
    uint32 Issuer_id = 2;
    //Attachments are optional pdf files
    repeated bytes Attachments = 3;
    //Type defines the Invoice Type
    InvoiceType Type = 4;
}


message InvoicePreview {
    bytes Preview = 2;
}

//Attachment pdf files to be sent through stream
message Attachment {
    bytes Content = 1;
}


//Status Enumeration
enum eStatus {
    Error = 0;
    Ok = 1;
}
//Response for Invoice services
message Response {
    eStatus Status = 1;
    string Description = 2;
}





